### <a name="_b7urdng99y53"></a>**Архитектура MVP для цифровизации открытия депозитов** 
### <a name="_hjk0fkfyohdk"></a>**Автор: Полина**
### <a name="_uanumrh8zrui"></a>**Дата: 01.09.25**
### <a name="_3bfxc9a45514"></a>**Функциональные требования**




|**№**|**Действующие лица или системы**|**Use Case**|**Описание**|
|---|---|---|---|
| 1 | Клиент, Сайт          | Отправка заявки          | 1. Клиент выбирает депозитный продукт<br>2. Заполняет ФИО и номер телефона<br>3. Данные шифруются, устанавливается безопасное соединение <br>4. Заявка направляется в CRM кол-центра                                        |
| 2 | Клиент, Интернет-банк | Онлайн-открытие депозита | 1. Авторизованный пользователь выбирает депозит<br>2. Получает персонализированную ставку<br>3. Указывает счет и сумму<br>4. Подтверждает через SMS<br>5. Заявка попадает в очередь |
| 3 | Оператор кол-центра   | Работа с заявкой сайта   | 1. Получает сигнал о новой заявке<br>2. Созванивается с клиентом<br>3. Результат фиксируется в CRM                                                                                  |
| 4 | Бэк-офис              | Обработка заявки из ИБ   | 1. Заявка поступает в АБС<br>2. Проверяются данные<br>3. При необходимости пересчитывается ставка<br>4. Операция подтверждается                                                     |
| 5 | АБС                   | Управление ставками      | 1. Хранение действующих ставок<br>2. Расчет персональных условий<br>3. Согласование специальных ставок                                                                              |
| 6 | Система               | Уведомления клиенту      | 1. SMS при подтверждении<br>2. SMS при фактическом открытии депозита                                                                                                                |



### <a name="_u8xz25hbrgql"></a>**Нефункциональные требования**
| № | Требование    НФТ                            |
| --- | --- |
| 1 | Использование шифрования трафика (TLS)  |
| 2 | Время реакции интерфейсов ≤ 500 мс           |
| 3 | Доступность сайта и ИБ не ниже 99.9%         |
| 4 | Маршрутизация и контроль нагрузки на АБС     |
| 5 | Поддержка .NET 4.5 и Java 8                  |
| 6 | Автоматическое переключение на резервный ЦОД в случае сбоев|
| 7 | Ролевая модель управления для сотрудников    |



### <a name="_qmphm5d6rvi3"></a>**Решение**
![Диаграмма контекста](../out/task3/context/context_diagram.svg)
![Диаграмма контейнера](../out/task3/container/container_diagram.svg)

Краткие комментарии:
* Кэш ускоряет отклик интерфейсов (по НФТ ≤500 мс)
* Микросервис депозитов убирает зависимость от Excel, излишнюю коммуникацию по почте, можно масштабировать при росте нагрузки
* Асинхронное взаимодействие Kafka гарантирует доставку, масштабирование при высоких нагрузках

### <a name="_bjrr7veeh80c"></a>**Альтернативы**
Прямое соединение с АБС без API Gateway:
* Плюсы: быстрая синхронная коммуникация по API
* Минусы: противоречит FURPS+, низкий контроль нагрузки на сервис, возникнут сложности в маршрутизации при масштабированиях отдельных элементов банковской системы

Минусы выбранной архитектуры:
* Зависимость от легаси (АБС), есть ограничения по технологиям
* Вертикальное масштабирование АБС остается слабым местом - деплой монолита дорогой
* Частичная автоматизация в MVP по-прежнему сохраняет высокие операционные расходы


**Недостатки, ограничения, риски**
* Сложности интеграции с устаревшей монолитной АБС могут вызвать задержки, проблемно масштабировать в случае роста клиентского потока по кредит. и дебет. направлениям
* Сотрудники могут сопротивляться перестройкам в бизнес-процессах

**Меры по снижению рисков**
* Пересмотр работы с БД. Использование read-only реплик Oracle для операций чтения
* Временно внедрить вертикальное масштабирование
* Концептуально начать пересматривать архитектуру АБС, анализировать систему по DDD, выделить важные сервисы, опционально попробовать вывести в бой 1-2 сервиса в рамках MVP
* Обучение, воркшопы, открытые сесси по MVP, активный сбор обратной связи
